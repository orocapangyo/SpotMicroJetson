# 1ì£¼ì°¨ ì‹¤í–‰ ê³„íš

## ğŸ“‹ ê°œìš”

**ëª©í‘œ**: SpotMicroJetson í”„ë¡œì íŠ¸ì˜ PyBullet í™˜ê²½ì„ ì„¤ì •í•˜ê³  ì‹œë®¬ë ˆì´ì…˜ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

**ì†Œìš” ì‹œê°„**: ì•½ 2-3ì‹œê°„

---

## ğŸ¤– PyBulletì´ë€?

### PyBullet ì†Œê°œ

**PyBullet**ì€ Bullet Physics SDKì˜ Python ë˜í¼(wrapper)ë¡œ, ë¡œë´‡ ê³µí•™, ê°•í™”í•™ìŠµ, ì»´í“¨í„° ê·¸ë˜í”½ìŠ¤ ë¶„ì•¼ì—ì„œ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ ì—”ì§„ì…ë‹ˆë‹¤.

**ì£¼ìš” íŠ¹ì§•:**
- âœ… **ì˜¤í”ˆì†ŒìŠ¤**: Zlib ë¼ì´ì„ ìŠ¤ë¡œ ìƒì—…ì  ì´ìš© ê°€ëŠ¥
- âœ… **Python ê¸°ë°˜**: ê°„ë‹¨í•œ APIë¡œ ë¹ ë¥¸ í”„ë¡œí† íƒ€ì´í•‘ ê°€ëŠ¥
- âœ… **URDF ì§€ì›**: ë¡œë´‡ ëª¨ë¸ í‘œì¤€ í˜•ì‹ ì™„ë²½ ì§€ì›
- âœ… **ê°•í™”í•™ìŠµ ì¹œí™”ì **: OpenAI Gym í™˜ê²½ê³¼ ì‰½ê²Œ í†µí•©
- âœ… **ë‹¤ì–‘í•œ ì œì–´ ëª¨ë“œ**: Position, Velocity, Torque ì œì–´ ì§€ì›
- âœ… **ì‹œê°í™”**: 3D GUIë¥¼ í†µí•œ ì‹¤ì‹œê°„ ì‹œë®¬ë ˆì´ì…˜ ì‹œê°í™”

**ì£¼ìš” ìš©ë„:**
- ë¡œë´‡ ì‹œë®¬ë ˆì´ì…˜ ë° ì œì–´ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸
- ê°•í™”í•™ìŠµ ì—ì´ì „íŠ¸ í›ˆë ¨ (ë¡œë´‡ ì œì–´)
- ì—­ê¸°êµ¬í•™(Inverse Kinematics) ê³„ì‚°
- ì¶©ëŒ ê°ì§€ ë° ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜
- ê°€ìƒ í™˜ê²½ì—ì„œì˜ ë¡œë´‡ ë™ì‘ ê²€ì¦

### 2025ë…„ í˜„ì¬ PyBulletì˜ ìœ„ì¹˜

**âœ… ì—¬ì „íˆ í™œë°œí•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ì´ìœ :**

1. **êµìœ¡ ë° ì—°êµ¬ì— ìµœì **
   - ëŒ€í•™ ê°•ì˜ì™€ ì—°êµ¬ ë…¼ë¬¸ì—ì„œ í‘œì¤€ìœ¼ë¡œ ì‚¬ìš©
   - ê°„ë‹¨í•œ ì„¤ì¹˜ì™€ ë‚®ì€ í•™ìŠµ ê³¡ì„ 
   - í’ë¶€í•œ ì˜ˆì œì™€ íŠœí† ë¦¬ì–¼

2. **ê°•í™”í•™ìŠµ ì»¤ë®¤ë‹ˆí‹°**
   - PyBullet Gym í™˜ê²½ì´ ì—¬ì „íˆ ì¸ê¸°
   - ê²½ëŸ‰í™”ëœ í™˜ê²½ìœ¼ë¡œ ë¹ ë¥¸ í•™ìŠµ ê°€ëŠ¥
   - ë§ì€ RL ë…¼ë¬¸ì˜ ë²¤ì¹˜ë§ˆí¬ë¡œ ì‚¬ìš©

3. **í”„ë¡œí† íƒ€ì´í•‘**
   - ë¹ ë¥¸ ê°œë°œ ì‚¬ì´í´
   - Python ìƒíƒœê³„ì™€ ì™„ë²½í•œ í†µí•©
   - NumPy, PyTorch, TensorFlowì™€ ì›í™œí•œ ì—°ë™

**âš ï¸ ê³ ë ¤í•  ì :**

1. **ì—…ë°ì´íŠ¸ ì†ë„**
   - ë§ˆì§€ë§‰ ì£¼ìš” ì—…ë°ì´íŠ¸: 2021ë…„ (v3.2.x)
   - ìœ ì§€ë³´ìˆ˜ëŠ” ê³„ì†ë˜ì§€ë§Œ ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ëŠ” ëŠë¦¼
   - Python 3.13 ë“± ìµœì‹  í™˜ê²½ ì§€ì› ì§€ì—°

2. **ìµœì‹  ëŒ€ì•ˆë“¤**
   - **MuJoCo** (2021ë…„ ì˜¤í”ˆì†ŒìŠ¤í™”): ë” ì •í™•í•œ ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜
   - **Isaac Gym/Sim** (NVIDIA): GPU ê°€ì† ëŒ€ê·œëª¨ ë³‘ë ¬ ì‹œë®¬ë ˆì´ì…˜
   - **Gazebo**: ROS í†µí•©ì´ ì¤‘ìš”í•œ ê²½ìš°

**ğŸ“Š 2025ë…„ ì‚¬ìš© ê¶Œì¥ ì‚¬í•­:**

| ìš©ë„ | PyBullet ì í•©ë„ | ê¶Œì¥ ì´ìœ  |
|------|----------------|-----------|
| êµìœ¡/í•™ìŠµ | â­â­â­â­â­ | ê°€ì¥ ë°°ìš°ê¸° ì‰¬ì›€ |
| ì—°êµ¬ í”„ë¡œí† íƒ€ì´í•‘ | â­â­â­â­â­ | ë¹ ë¥¸ ê°œë°œ ê°€ëŠ¥ |
| ê°•í™”í•™ìŠµ í›ˆë ¨ | â­â­â­â­ | ê²€ì¦ëœ í™˜ê²½, ë‹¤ë§Œ ëŒ€ê·œëª¨ëŠ” Isaac Gym ê³ ë ¤ |
| ì •ë°€ ë¬¼ë¦¬ ì‹œë®¬ë ˆì´ì…˜ | â­â­â­ | MuJoCoê°€ ë” ì •í™• |
| ì‹¤ì œ ë¡œë´‡ ë°°í¬ | â­â­â­ | Gazebo + ROSê°€ ë” ì í•© |
| 4ì¡± ë³´í–‰ ë¡œë´‡ | â­â­â­â­â­ | SpotMicro ë“± ë§ì€ ì˜¤í”ˆì†ŒìŠ¤ í”„ë¡œì íŠ¸ |

**ğŸ¯ ê²°ë¡ :**

PyBulletì€ 2025ë…„ í˜„ì¬ë„ ë¡œë´‡ ì‹œë®¬ë ˆì´ì…˜ ì…ë¬¸ìì™€ ì—°êµ¬ìë“¤ì—ê²Œ **ì—¬ì „íˆ ìµœê³ ì˜ ì„ íƒì§€ ì¤‘ í•˜ë‚˜**ì…ë‹ˆë‹¤. íŠ¹íˆ SpotMicroJetson ê°™ì€ 4ì¡± ë³´í–‰ ë¡œë´‡ í”„ë¡œì íŠ¸ì—ì„œëŠ”:
- í’ë¶€í•œ ì»¤ë®¤ë‹ˆí‹° ì§€ì›
- ê²€ì¦ëœ ì˜ˆì œ ì½”ë“œ
- ë¹ ë¥¸ ê°œë°œ ì‚¬ì´í´

ì´ëŸ¬í•œ ì´ìœ ë¡œ PyBulletì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ë§¤ìš° ì ì ˆí•©ë‹ˆë‹¤.

---

## ğŸ› ï¸ 1ë‹¨ê³„: SpotMicroJetson í”„ë¡œì íŠ¸ í™˜ê²½ ì„¤ì • (30ë¶„)

### 1.1 í”„ë¡œì íŠ¸ í´ë¡  ë° í™˜ê²½ ì„¤ì •

```bash
# SpotMicroJetson í”„ë¡œì íŠ¸ í´ë¡ 
cd d:/git
git clone https://github.com/YOUR_USERNAME/SpotMicroJetson.git
cd SpotMicroJetson

# í‘œì¤€ Python venvë¡œ ê°€ìƒí™˜ê²½ ìƒì„± (ê¶Œì¥)
# PyBullet ë¹Œë“œ ì´ìŠˆ ë°©ì§€ë¥¼ ìœ„í•´ í‘œì¤€ venv ì‚¬ìš©
python -m venv .venv

# ê°€ìƒí™˜ê²½ í™œì„±í™”
# Windows (PowerShell)
.venv\Scripts\Activate.ps1

# Windows (CMD)
.venv\Scripts\activate.bat

# Linux/Mac
source .venv/bin/activate

# Python ë²„ì „ í™•ì¸
python --version
# Python 3.12.x ì¶œë ¥ë˜ì–´ì•¼ í•¨

# pip ì—…ê·¸ë ˆì´ë“œ
python -m pip install --upgrade pip
```

### 1.2 ì˜ì¡´ì„± ì„¤ì¹˜

```bash
# Simulation ë””ë ‰í† ë¦¬ì˜ requirements.txt ì„¤ì¹˜
cd Simulation
pip install -r requirements.txt

# ë˜ëŠ” ê°œë³„ ì„¤ì¹˜
pip install gym==0.17.2
pip install matplotlib
pip install numpy
pip install pybullet==3.0.6
pip install keyboard

# gym-spotmicroai íŒ¨í‚¤ì§€ ì„¤ì¹˜ (ê°œë°œ ëª¨ë“œ)
pip install -e .
```

---

## ğŸš€ 2ë‹¨ê³„: pybullet_automatic_gait.py ì‹¤í–‰ (15ë¶„)

### 2.1 ì‹œë®¬ë ˆì´ì…˜ ì‹¤í–‰

```bash
# Simulation ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰
cd d:/git/SpotMicroJetson/Simulation
python pybullet_automatic_gait.py
```

**ì‹¤í–‰ ì‹œ ë™ì‘:**
- PyBullet GUI ì°½ì´ ì—´ë¦½ë‹ˆë‹¤
- Spot Micro ë¡œë´‡ì´ ë¡œë“œë©ë‹ˆë‹¤
- í‚¤ë³´ë“œë¡œ ë¡œë´‡ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
- Height ìŠ¬ë¼ì´ë”ë¡œ ë¡œë´‡ ë†’ì´ë¥¼ ì¡°ì ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

**í‚¤ë³´ë“œ ì»¨íŠ¸ë¡¤ (ì˜ˆìƒ):**
- í™”ì‚´í‘œ í‚¤: ì´ë™ ë°©í–¥ ì œì–´
- ìŠ¤í˜ì´ìŠ¤ë°”: Trotting gait ì‹œì‘/ì •ì§€
- ESC: ì¢…ë£Œ

### 2.2 ì½”ë“œ êµ¬ì¡° ì´í•´

```python
# pybullet_automatic_gait.pyì˜ ì£¼ìš” êµ¬ì„± ìš”ì†Œ

# 1. ì˜ì¡´ì„±
from environment import environment        # PyBullet í™˜ê²½ ì„¤ì •
import spotmicroai                         # Spot Micro ë¡œë´‡ ëª¨ë¸
from kinematicMotion import TrottingGait   # Trotting ë³´í–‰ ì•Œê³ ë¦¬ì¦˜
from Common.multiprocess_kb import KeyInterrupt  # í‚¤ë³´ë“œ ì…ë ¥

# 2. ë¡œë´‡ ì´ˆê¸°í™”
robot = spotmicroai.Robot(True, True, reset)

# 3. Trotting Gait ì´ˆê¸°í™”
trotting = TrottingGait()

# 4. ë©”ì¸ ë£¨í”„
# - ë¡œë´‡ ìœ„ì¹˜/ìì„¸ ì½ê¸°
# - í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
# - ë°œ ìœ„ì¹˜ ê³„ì‚° (ê±·ê¸°/ì •ì§€)
# - ë¡œë´‡ ì œì–´ ëª…ë ¹ ì „ì†¡
```

### 2.3 ë¬¸ì œ í•´ê²°

```bash
# PyBullet ì„¤ì¹˜ ì‹¤íŒ¨ ì‹œ
# -> Microsoft C++ Build Tools ì„¤ì¹˜ í•„ìš”
# https://visualstudio.microsoft.com/visual-cpp-build-tools/
# ë˜ëŠ” ì•ˆì • ë²„ì „ ì‚¬ìš©
pip install pybullet==3.0.6

# ModuleNotFoundError: No module named 'Common'
# -> SpotMicroJetson í”„ë¡œì íŠ¸ ë£¨íŠ¸ì—ì„œ ì‹¤í–‰í•˜ê±°ë‚˜ PYTHONPATH ì„¤ì •
cd d:/git/SpotMicroJetson
set PYTHONPATH=%CD%  # Windows CMD
$env:PYTHONPATH = $PWD  # Windows PowerShell
export PYTHONPATH=$(pwd)  # Linux/Mac
cd Simulation
python pybullet_automatic_gait.py

# keyboard ë¼ì´ë¸ŒëŸ¬ë¦¬ ê¶Œí•œ ì˜¤ë¥˜ (Linux)
sudo pip install keyboard
# ë˜ëŠ”
sudo python pybullet_automatic_gait.py

# PyBullet GUI ì°½ì´ ì•ˆ ì—´ë¦´ ë•Œ
# -> environment.pyì—ì„œ p.connect(p.GUI) í™•ì¸

# ê°€ìƒí™˜ê²½ ì¬ìƒì„±ì´ í•„ìš”í•œ ê²½ìš°
cd d:/git/SpotMicroJetson
deactivate
Remove-Item -Recurse -Force .venv  # PowerShell
# ë˜ëŠ” rm -rf .venv  # CMD/Linux
python -m venv .venv
.venv\Scripts\Activate.ps1
python -m pip install --upgrade pip
cd Simulation
pip install -r requirements.txt
pip install -e .
```

---

## ğŸ® 3ë‹¨ê³„: PyBullet ê¸°ì´ˆ í•™ìŠµ (ì„ íƒì‚¬í•­, 1ì‹œê°„)

SpotMicroJetson í”„ë¡œì íŠ¸ë¥¼ ë” ì˜ ì´í•´í•˜ê¸° ìœ„í•œ PyBullet ê¸°ì´ˆ í•™ìŠµì…ë‹ˆë‹¤.

### 3.1 SpotMicroAI ë¡œë´‡ ê´€ì ˆ ì •ë³´ ë¶„ì„

SpotMicroJetson í”„ë¡œì íŠ¸ì˜ ë¡œë´‡ ëª¨ë¸ì„ ë¶„ì„í•©ë‹ˆë‹¤:

```python
# analyze_spotmicro.py
import sys
sys.path.append("D:/git/SpotMicroJetson")

from Simulation import environment
import pybullet as p

# í™˜ê²½ ì´ˆê¸°í™”
env = environment.environment()

# ë¡œë´‡ ID ê°€ì ¸ì˜¤ê¸° (environment.pyì—ì„œ ë¡œë“œë¨)
# URDF ê²½ë¡œ: SpotMicroJetson/spot_description/urdf/spotmicro.urdf

# ê´€ì ˆ ì •ë³´ ì¶œë ¥
num_joints = p.getNumJoints(env.robot)
print(f"Total joints: {num_joints}\n")

print("=" * 80)
print(f"{'Index':<6} {'Name':<30} {'Type':<15} {'Range':<20}")
print("=" * 80)

for i in range(num_joints):
    info = p.getJointInfo(env.robot, i)
    joint_name = info[1].decode('utf-8')
    joint_type = info[2]
    joint_lower = info[8]
    joint_upper = info[9]

    type_names = {
        p.JOINT_REVOLUTE: "REVOLUTE",
        p.JOINT_PRISMATIC: "PRISMATIC",
        p.JOINT_FIXED: "FIXED"
    }

    if joint_type == p.JOINT_REVOLUTE:
        print(f"{i:<6} {joint_name:<30} {type_names[joint_type]:<15} [{joint_lower:.2f}, {joint_upper:.2f}]")

print("=" * 80)
```

---

## ğŸ“Š 4ë‹¨ê³„: í•™ìŠµ ì •ë¦¬ ë° ë‹¤ìŒ ë‹¨ê³„ (15ë¶„)

### 4.1 í•™ìŠµ ë‚´ìš© ì •ë¦¬

ì´ë²ˆ ì£¼ì°¨ì—ì„œ ë°°ìš´ ë‚´ìš©ì„ ì •ë¦¬í•©ë‹ˆë‹¤:

**âœ… ì™„ë£Œí•œ ì‘ì—…:**
1. Python ê°€ìƒí™˜ê²½ ì„¤ì • ë° PyBullet ì„¤ì¹˜
2. SpotMicroJetson í”„ë¡œì íŠ¸ í´ë¡  ë° í™˜ê²½ êµ¬ì¶•
3. ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜ (gym, pybullet, numpy, matplotlib, keyboard)
4. pybullet_automatic_gait.py ì‹¤í–‰ ë° ë™ì‘ í™•ì¸
5. SpotMicro ë¡œë´‡ ì‹œë®¬ë ˆì´ì…˜ ì´í•´

**ğŸ”‘ í•µì‹¬ ê°œë…:**
- SpotMicroJetson í”„ë¡œì íŠ¸ì˜ ë””ë ‰í† ë¦¬ êµ¬ì¡°
- PyBullet ì‹œë®¬ë ˆì´ì…˜ í™˜ê²½ ì„¤ì •
- Trotting Gait ë³´í–‰ íŒ¨í„´
- í‚¤ë³´ë“œë¥¼ í†µí•œ ë¡œë´‡ ì œì–´

### 4.2 í”„ë¡œì íŠ¸ êµ¬ì¡° ì´í•´

```
SpotMicroJetson/
â”œâ”€â”€ Simulation/          # ì‹œë®¬ë ˆì´ì…˜ ê´€ë ¨ ì½”ë“œ
â”‚   â”œâ”€â”€ environment.py   # PyBullet í™˜ê²½ ì„¤ì •
â”‚   â”œâ”€â”€ spotmicroai.py   # ë¡œë´‡ ì œì–´ í´ë˜ìŠ¤
â”‚   â”œâ”€â”€ kinematics.py    # ì—­ê¸°êµ¬í•™ ê³„ì‚°
â”‚   â”œâ”€â”€ kinematicMotion.py  # ë³´í–‰ íŒ¨í„´ (TrottingGait)
â”‚   â””â”€â”€ pybullet_automatic_gait.py  # ë©”ì¸ ì‹¤í–‰ íŒŒì¼
â”œâ”€â”€ Common/              # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ multiprocess_kb.py  # í‚¤ë³´ë“œ ì…ë ¥ ì²˜ë¦¬
â””â”€â”€ .venv/              # ê°€ìƒí™˜ê²½
```

### 4.3 ë‹¤ìŒ ì£¼ í•™ìŠµ ê³„íš

**2ì£¼ì°¨ ì£¼ì œ**: PyBullet ì‹¬í™” - ê¸°ë³¸ ì œì–´
- `setJointMotorControl2` API ìƒì„¸ ë¶„ì„
- Position/Velocity/Torque ì œì–´ ëª¨ë“œ ë¹„êµ
- PD ê²Œì¸ íŠœë‹ ë°©ë²•
- Spot Minië¥¼ ì„œìˆëŠ” ìì„¸ë¡œ ì œì–´í•˜ê¸°
- ê°„ë‹¨í•œ ë³´í–‰ íŒ¨í„´ êµ¬í˜„

---

## âœ… ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] Python ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”
- [ ] SpotMicroJetson í”„ë¡œì íŠ¸ í´ë¡ 
- [ ] ì˜ì¡´ì„± íŒ¨í‚¤ì§€ ì„¤ì¹˜ (requirements.txt)
- [ ] pybullet_automatic_gait.py ì‹¤í–‰ ì„±ê³µ
- [ ] ë¡œë´‡ ì›€ì§ì„ ê´€ì°° ë° í‚¤ë³´ë“œ ì»¨íŠ¸ë¡¤ í…ŒìŠ¤íŠ¸
- [ ] í”„ë¡œì íŠ¸ êµ¬ì¡° ì´í•´
- [ ] ë‹¤ìŒ ì£¼ í•™ìŠµ ê³„íš í™•ì¸

---

## ğŸ“š ì¶”ê°€ í•™ìŠµ ìë£Œ

### PyBullet ê³µì‹ ë¬¸ì„œ
- https://pybullet.org/wordpress/
- https://github.com/bulletphysics/bullet3

### SpotMicroJetson í”„ë¡œì íŠ¸
- https://github.com/FlorianWilk/SpotMicroAI
- https://github.com/OpenQuadruped/spot_mini_mini

### ê´€ë ¨ ë…¼ë¬¸ ë° ìë£Œ
- Spot Mini ë¡œë´‡ ì—­ê¸°êµ¬í•™
- Trotting Gait ë³´í–‰ íŒ¨í„´
- Quadruped ë¡œë´‡ ì œì–´
